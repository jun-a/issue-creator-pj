# CSS/JavaScriptリファクタリング計画

## 現状の課題
1. layout.htmlに大量のインラインCSSが記述されている
2. 複数のHTMLファイルにインラインJavaScriptが散在している
3. コードの保守性と再利用性が低い

## 既存のファイル構造
### CSS
- `static/css/main.css`
  - 基本変数定義
  - 共通コンポーネント
  - フォーム要素
  - テーブル
  - Markdownプレビュー
  - HTMX関連
  - アニメーション
  - レスポンシブ対応
  - スクロールバー

### JavaScript
- `static/js/app.js`
  - IssueStorageクラス - Issueの管理
  - RepoStorageクラス - リポジトリの管理
  - HTMX拡張とイベントハンドリング
  - ローディング表示の制御
  - タブ切り替え機能
  - 共通ユーティリティ関数

## 改善計画

### 1. CSSの統合（main.css）
#### layout.htmlからの統合
- ナビゲーションバーのスタイル
- フッターのスタイル
- 基本レイアウト定義
- アニメーション効果
- レスポンシブデザイン
- その他layout.htmlから抽出したスタイル

#### 期待される効果
- スタイルの一元管理
- コードの重複排除
- メンテナンス性の向上
- ブラウザのキャッシュ活用

### 2. JavaScriptの統合（app.js）
#### 各ページからの統合
- create.html
  - テキストエリアの高さ自動調整
  - クリアボタンの機能

- history.html
  - 履歴一覧の表示
  - Issue保存処理

- preview.html
  - タブ切り替え
  - Markdownコピー機能
  - ドロップダウン制御

- settings.html
  - リポジトリ管理フォーム
  - リポジトリ一覧表示
  - 削除機能

#### 期待される効果
- スクリプトの一元管理
- 重複コードの排除
- 機能の再利用性向上
- デバッグの容易化

## 実装手順
1. main.cssの拡張
   - layout.htmlからスタイルを抽出
   - 既存のスタイル定義と統合
   - 重複の排除と最適化

2. app.jsの拡張
   - 各ページのスクリプトを機能ごとに整理
   - クラスやメソッドとして実装
   - イベントハンドラーの統合

3. HTMLファイルの更新
   - インラインスタイルの削除
   - インラインスクリプトの削除
   - 必要な属性やデータ属性の追加

4. テストと検証
   - 各ページの表示確認
   - 機能の動作確認
   - レスポンシブ対応の確認

5. パフォーマンス最適化
   - CSS/JSの圧縮
   - 読み込み順序の最適化

次のステップ：Codeモードに切り替えて実装を開始する