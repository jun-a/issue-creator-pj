# 技術コンテキスト

## 1. 開発環境設定

### Poetry環境
```toml
[tool.poetry]
name = "issue-draft-creator"
version = "0.1.0"
description = "自然言語からGitHub Issueを生成するツール"
authors = ["Team"]
python = "^3.11"

[tool.poetry.dependencies]
python = "^3.11"
fastapi = "^0.104.0"
uvicorn = "^0.24.0"
jinja2 = "^3.1.2"
python-multipart = "^0.0.6"
aiohttp = "^3.9.1"

[tool.poetry.group.dev.dependencies]
pytest = "^7.4.3"
```

### 必要なツール
- Python 3.11以上
- Poetry
- Git
- モダンブラウザ（Session Storage対応）

## 2. 技術的制約

### クライアントサイド制約
1. **Session Storage**
   - 容量制限: 約5-10MB
   - データの永続性なし
   - ブラウザセッション依存

2. **HTMX制約**
   - サーバーサイドレンダリング前提
   - 部分的更新の利用
   - イベントベースの処理

### サーバーサイド制約
1. **FastAPI**
   - 非同期処理
   - OpenAPI準拠
   - Pythonタイプヒント必須

2. **デプロイメント**
   - ステートレス設計
   - 環境変数による設定
   - 軽量コンテナ化

## 3. 依存関係の詳細

### フロントエンド
1. **HTMX**
   - バージョン: 1.9.x
   - 用途: 動的UI更新
   - 拡張機能実装

2. **Bulma CSS**
   - バージョン: 0.9.x
   - 用途: レスポンシブUI
   - カスタマイズ制限

### バックエンド
1. **FastAPI**
   - 非同期リクエスト処理
   - OpenAPI/Swagger統合
   - エラーハンドリング

2. **Jinja2**
   - テンプレート継承
   - HTMX統合
   - 部分的レンダリング

## 4. セキュリティ考慮事項

### クライアントサイド
1. **データ保護**
   - セッションデータの暗号化不要
   - XSS対策
   - CSRF保護

2. **エラー処理**
   - ユーザーフレンドリーなエラー表示
   - センシティブ情報の非表示
   - デバッグ情報の制御

## 5. パフォーマンス要件

### レスポンス時間
- ページロード: < 1秒
- API応答: < 2秒
- AI変換: < 5秒

### リソース使用
- クライアントメモリ: < 50MB
- セッションストレージ: < 5MB
- サーバーメモリ: < 100MB/プロセス

## 6. 監視とロギング

### クライアントサイド
- コンソールログ制御
- エラートラッキング
- パフォーマンスモニタリング

### サーバーサイド
- アプリケーションログ
- エラーログ
- アクセスログ

## 7. テスト要件

### ユニットテスト
- HTMX拡張機能
- APIエンドポイント
- ユーティリティ関数

### 統合テスト
- エンドツーエンドフロー
- エラーシナリオ
- パフォーマンステスト