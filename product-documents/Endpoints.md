### 必要なエンドポイント

#### 1. **ホームページ（入力ページ）**

- **エンドポイント**: `GET /`
- **目的**: 
  - ユーザーが自然言語で要望を入力するためのインターフェースを提供する。
- **レスポンス**:
  - HTMLページ（index.html）で自然言語入力用のフォームを表示。

#### 2. **リクエスト受信API**

- **エンドポイント**: `POST /api/requests`
- **目的**: 
  - ユーザーが自然言語で入力したリクエストを受け取り、それを処理する。
- **リクエストボディ**:
  - `{"request_text": "新しい機能の要望内容"}`
- **レスポンス**:
  - 成功時: `{"status": "success", "issue_id": 123}`
  - エラー時: `{"status": "error", "message": "エラーメッセージ"}`

#### 3. **変換中のページ（オプション）**

- **エンドポイント**: `GET /processing`
- **目的**: 
  - リクエストを処理中であることをユーザーに通知する。
- **レスポンス**:
  - HTMLページ（processing.html）でローディングインジケーターを表示。

#### 4. **プレビューページ**

- **エンドポイント**: `GET /preview/{issue_id}`
- **目的**: 
  - ユーザーが変換されたGitHub Issueをプレビューおよび編集できるようにする。
- **レスポンス**:
  - HTMLページ（preview.html）として、指定したIssueの詳細を表示。

#### 5. **Issue詳細取得API**

- **エンドポイント**: `GET /api/issues/{issue_id}`
- **目的**: 
  - 特定のIssueの詳細を取得し、プレビューページに必要なデータを提供。
- **レスポンス**:
  - 成功時: `{"title": "Issueのタイトル", "story": "ユーザーストーリー", "acceptance_criteria": "受け入れ基準", "technical_requirements": "技術要件"}`
  - エラー時: `{"status": "error", "message": "エラーメッセージ"}`

#### 6. **Issue更新API**

- **エンドポイント**: `PUT /api/issues/{issue_id}`
- **目的**: 
  - 指定されたIssueを更新し、ユーザーの編集内容を保存する。
- **リクエストボディ**:
  - `{"title": "更新されたタイトル", "story": "更新されたユーザーストーリー", "acceptance_criteria": "更新された受け入れ基準", "technical_requirements": "更新された技術要件"}`
- **レスポンス**:
  - 成功時: `{"status": "success"}`
  - エラー時: `{"status": "error", "message": "エラーメッセージ"}`

#### 7. **履歴ページ**

- **エンドポイント**: `GET /history`
- **目的**: 
  - ユーザーがこれまでに生成したIssueの履歴を表示する。
- **レスポンス**:
  - HTMLページ（history.html）で、Issueの履歴をリスト形式で表示。

#### 8. **履歴取得API**

- **エンドポイント**: `GET /api/history`
- **目的**: 
  - これまでに生成されたIssueの一覧を取得し、履歴ページでの表示に利用する。
- **レスポンス**:
  - 成功時: `[{"issue_id": 123, "title": "Issueのタイトル", "timestamp": "生成日時"}, {...}]`
  - エラー時: `{"status": "error", "message": "エラーメッセージ"}`

#### 9. **エラーページ**

- **エンドポイント**: `GET /error`
- **目的**: 
  - システムで問題が発生した際に、ユーザーにエラー情報を提供。
- **レスポンス**:
  - HTMLページ（error.html）でエラーメッセージを表示。
